<!DOCTYPE html>

<html lang="zh-CN">
    <head>
    <meta charset="utf-8">
    <!--
        hexo-theme-suka Â© SukkaW
        GitHub: https://github.com/SukkaW/hexo-theme-suka
    -->

    <!-- ### Resource Hint ### -->

    <!-- ## DNS Prefetch ## -->
    <meta http-equiv="x-dns-prefetch-control" content="on">

<!-- busuanzi -->

    <link rel="dns-prefetch" href="//busuanzi.ibruce.info">


<!-- comment -->







<!-- analytics -->







    <!-- ## Preload ## -->
    
    <!-- Busuanzi -->
    
    <link rel="preload" href="https://cdn.jsdelivr.net/gh/sukkaw/busuanzi@2.3/bsz.pure.mini.js" as="script">







    <!-- ### Meta & Title & Info ### -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, minimum-scale=1, initial-scale=1, maximum-scale=5, viewport-fit=cover">
    <meta name="renderer" content="webkit">

    <!-- Title -->
    <title>ML:Transformer | blog</title>

    <!-- Favicons -->
    <link rel="icon" type="image&#x2F;ico" href="/img/bot.ico">

    <!-- ### Import File ### -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/spectre.css@0.5.3"><style>
    body {
        background-color: #f8f9fa;
    }

    a, a:visited {
        color: #0070ff;
    }

    a:active, a:focus, a:hover {
        color: #0070ff;
        opacity: .75;
    }

    #post-content a,
    #post-content a:hover,
    #post-content a:focus,
    #post-content a:visited {
        color: #005eb9;
        opacity: 1;
    }

    

    .post-entry .card-body a {
        color: #0070ff;
    }

    .avatar {
        background: #444;
    }

    .navbar-link,
    .navbar-link:visited,
    .timeline .timeline-item .timeline-icon.icon-lg {
        color: #0070ff;
    }

    .navbar-link:hover {
        color: #0070ff;
        opacity: .8;
    }

    #search-input .btn,
    #disqus_click_btn,
    #disqus-switch-to-direct,
    #disqus-loadmore-button {
        background: #727e96;
        border-color: #727e96;
        color: #fff;
    }

    #post-toc a.post-toc-link,
    #post-toc a.post-toc-link:visited,
    .share-menu.menu .menu-item>a {
        color: #727e96;
    }

    .share-menu.menu .menu-item>a:hover,
    .share-menu.menu .menu-item>a:focus,
    .share-menu.menu .menu-item>a:visited {
        color: #50596c;
        background: #f8f9fa;
        opacity: .85;
    }
</style><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/sukkaw/hexo-theme-suka@1.4.0/source/css/style.min.css">








    <!-- Prettify Theme -->
    
    <link rel="preload" href="https://cdn.jsdelivr.net/gh/sukkaw/hexo-theme-suka@1.4.0/source/css/highlight/[theme-name].min.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/sukkaw/hexo-theme-suka@1.4.0/source/css/highlight/[theme-name].min.css"></noscript>





<script>
/*! loadCSS. [c]2017 Filament Group, Inc. MIT License */
!function(t){"use strict";t.loadCSS||(t.loadCSS=function(){});var e=loadCSS.relpreload={};if(e.support=function(){var e;try{e=t.document.createElement("link").relList.supports("preload")}catch(t){e=!1}return function(){return e}}(),e.bindMediaToggle=function(t){var e=t.media||"all";function a(){t.addEventListener?t.removeEventListener("load",a):t.attachEvent&&t.detachEvent("onload",a),t.setAttribute("onload",null),t.media=e}t.addEventListener?t.addEventListener("load",a):t.attachEvent&&t.attachEvent("onload",a),setTimeout(function(){t.rel="stylesheet",t.media="only x"}),setTimeout(a,3e3)},e.poly=function(){if(!e.support())for(var a=t.document.getElementsByTagName("link"),n=0;n<a.length;n++){var o=a[n];"preload"!==o.rel||"style"!==o.getAttribute("as")||o.getAttribute("data-loadcss")||(o.setAttribute("data-loadcss",!0),e.bindMediaToggle(o))}},!e.support()){e.poly();var a=t.setInterval(e.poly,500);t.addEventListener?t.addEventListener("load",function(){e.poly(),t.clearInterval(a)}):t.attachEvent&&t.attachEvent("onload",function(){e.poly(),t.clearInterval(a)})}"undefined"!=typeof exports?exports.loadCSS=loadCSS:t.loadCSS=loadCSS}("undefined"!=typeof global?global:this);
</script>

    <!-- ### Site Verification ### -->
    


    <meta name="mobile-web-app-capable" content="yes"><meta name="application-name" content="blog"><meta name="msapplication-starturl" content="https://abinzzz.github.io"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="blog"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><link rel="search" type="application/opensearchdescription+xml" href="opensearch.xml" title="blog">

    <!-- ### The Open Graph & Twitter Card Protocol ### -->
    <meta property="og:title" content="ML:Transformer | blog"><meta property="og:site_name" content="blog"><meta property="og:type" content="article"><meta property="og:url" content="https://abinzzz.github.io/2023/10/28/Transformer/"><meta property="og:locale" content="zh-CN"><meta name="description" content="MathJax.Hub.Config({ tex2jax: {inlineMath: [[&amp;apos;$&amp;apos;, &amp;apos;$&amp;apos;]]}, messageStyle: &quot;none&quot; });   å­¦ä¹ é“¾æ¥ ğŸ”—ï¼šTransformerè¯¦è§£å’Œè‡ªæ³¨æ„åŠ›æœºåˆ¶ Self-attention ğŸ”—ï¼šAttention Is All You Need  ç›®å½•  1.Introduction 2.Self-attention 3.Mul - ab - blog"><meta name="keywords" content="ä¸“ä¸šçŸ¥è¯†, ML, transformer, self-attention"><meta property="og:image" content="https://pbs.twimg.com/media/F9ga5sDWEAATK3N?format=jpg&amp;name=medium"><meta property="og:image" content="https://pbs.twimg.com/media/F9gbRiOWgAA37Ip?format=png&amp;name=small"><meta property="og:image" content="https://pbs.twimg.com/media/F9gb-XnWkAASrfR?format=png&amp;name=900x900"><meta property="og:image" content="https://pbs.twimg.com/media/F9gcWpEW8AAQp0f?format=png&amp;name=small"><meta property="og:image" content="https://pbs.twimg.com/media/F9gcU_YWwAAiJUq?format=png&amp;name=900x900"><meta property="og:image" content="https://pbs.twimg.com/media/F9gdH2ZWwAAHvJ9?format=png&amp;name=900x900"><meta property="og:image" content="https://pbs.twimg.com/media/F9geSIyXEAASAsN?format=png&amp;name=small"><meta property="og:image" content="https://pbs.twimg.com/media/F9gfBdbXsAAhxnX?format=png&amp;name=900x900"><meta property="og:image" content="https://pbs.twimg.com/media/F9ggDgFW0AEZ98Z?format=png&amp;name=900x900"><meta property="og:image" content="https://pbs.twimg.com/media/F9ghm8nWEAAYMrK?format=png&amp;name=900x900"><meta property="og:image" content="https://pbs.twimg.com/media/F9gnaaWXsAAAt4b?format=png&amp;name=small"><meta property="og:image" content="https://pbs.twimg.com/media/F9gogsNXMAAId0E?format=png&amp;name=small"><meta property="og:image" content="https://pbs.twimg.com/media/F9go9LzXMAAdiWQ?format=png&amp;name=small"><meta property="og:image" content="https://pbs.twimg.com/media/F9gpKivWcAABybY?format=png&amp;name=900x900"><meta property="og:image" content="https://pbs.twimg.com/media/F9gpf5DXwAAe8rb?format=png&amp;name=small"><meta property="og:image" content="https://pbs.twimg.com/media/F9gvXvFWkAA5byj?format=png&amp;name=900x900"><meta property="og:image" content="https://pbs.twimg.com/media/F9gwr33WAAAS6xK?format=png&amp;name=900x900"><meta property="og:image" content="https://pbs.twimg.com/media/F9gy4kZWEAA85Tu?format=png&amp;name=360x360"><meta property="og:image" content="https://pbs.twimg.com/media/F9g0EcuXgAAyMfh?format=png&amp;name=240x240"><meta property="og:image" content="https://pbs.twimg.com/media/F9g0YWhXQAAJqFz?format=png&amp;name=900x900"><meta property="og:image" content="https://pbs.twimg.com/media/F9g1Kh2W8AAvcLR?format=png&amp;name=360x360"><meta property="og:image" content="https://pbs.twimg.com/media/F9g31TEWoAA2RVL?format=png&amp;name=small"><meta property="og:image" content="https://pbs.twimg.com/media/F9g45hmXQAANv5j?format=jpg&amp;name=900x900"><meta property="og:image" content="https://pbs.twimg.com/media/F9g5UhxWMAAg0p5?format=png&amp;name=small"><meta property="og:image" content="https://pbs.twimg.com/media/F9g6FILXUAAN6yt?format=png&amp;name=900x900"><meta property="og:image" content="https://pbs.twimg.com/media/F9hpOvaXQAAfmmT?format=png&amp;name=900x900"><meta property="og:image" content="https://pbs.twimg.com/media/F9hpoAjW4AA8YiK?format=png&amp;name=small"><meta property="og:image" content="https://pbs.twimg.com/media/F9hq6iJW0AEc9kT?format=png&amp;name=900x900"><meta property="og:image" content="https://pbs.twimg.com/media/F9hrsI_W0AAMfIx?format=png&amp;name=900x900"><meta property="article:published_time" content="2023-10-28T06:22:33.000Z"><meta property="article:modified_time" content="2023-11-23T14:43:09.828Z"><meta property="og:updated_time" content="2023-11-23T14:43:09.828Z"><meta property="article:author" content="ab"><meta property="article:tag" content="ä¸“ä¸šçŸ¥è¯†, ML, transformer, self-attention"><meta name="twitter:card" content="summary">

    

    <!-- ### Canonical link ### -->
    <link rel="canonical" href="https://abinzzz.github.io/2023/10/28/Transformer/">

    <meta name="generator" content="Hexo 5.4.2">

    <!-- ### Analytics ### -->
    







    <!-- ### Structured Data ### -->
    



<script type="application/ld+json">
{
    "@context": "http://schema.org",
    "url": "https://abinzzz.github.io/2023/10/28/Transformer/",
    "@type": "BlogPosting",
    "logo": "https://abinzzz.github.io/img/bot.ico",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://abinzzz.github.io/2023/10/28/Transformer/"
    },
    "headline": "ML:Transformer | blog",
    
    "image": {
        "@type": "ImageObject",
        "url": "https://abinzzz.github.io/img/bot.ico"
    },
    
    "datePublished": "2023-10-28T06:22:33.000Z",
    "dateModified": "2023-11-23T14:43:09.828Z",
    "author": {
        "@type": "Person",
        "name": "ab",
        "image": {
            "@type": "ImageObject",
            "url": "https://abinzzz.github.io/img/default_avatar.png"
        },
        "description": "Hi, nice to meet you."
    },
    "publisher": {
        "@type": "Organization",
        "name": "blog",
        "logo": {
            "@type": "ImageObject",
            "url": "https://abinzzz.github.io/img/bot.ico"
        }
    },
    
    "potentialAction": {
        "@type": "SearchAction",
        "target": "https://abinzzz.github.io/search?s={search_term_string}",
        "query-input": "required name=search_term_string"
    },
    
    "keywords": "ä¸“ä¸šçŸ¥è¯†, ML, transformer, self-attention",
    "description": "MathJax.Hub.Config({ tex2jax: {inlineMath: [[&amp;apos;$&amp;apos;, &amp;apos;$&amp;apos;]]}, messageStyle: &amp;quot;none&amp;quot; });   å­¦ä¹ é“¾æ¥ ğŸ”—ï¼šTransformerè¯¦è§£å’Œè‡ªæ³¨æ„åŠ›æœºåˆ¶ Self-attention ğŸ”—ï¼šAttention Is All You Need  ç›®å½•  1.Introduction 2.Self-attention 3.Mul - ab - blog"
}
</script>



    <!-- ### Custom Head ### -->
    
</head>

    <body>
            

            <!-- ### Main content ### -->
            <!-- ## Header ##-->
<header>
    <h1 class="header-title text-center"><a href="/">blog</a></h1>

    <p class="text-center header-slogan">
        
            
                Hi, nice to meet you.
            
        
    </p>

    <nav class="navbar-section text-center">
    
        <a href="/" class="navbar-link">é¦–é¡µ</a>
    
    
        <a href="/archives/" class="navbar-link">å½’æ¡£</a>
    
    
        <a href="/search" class="navbar-link">æœç´¢</a>
    
    
    
        <div class="dropdown dropdown-right">
    <a class="navbar-link dropdown-toggle" tabindex="0">åˆ†äº«</a>
    <ul class="menu share-menu">

        <!-- Share Weibo -->
        
        <li class="menu-item">
            <a href="http://service.weibo.com/share/share.php?appkey=&title=blog&url=https://abinzzz.github.io&pic=https://abinzzz.github.io/img/bot.ico&searchPic=false&style=simple" target="_blank" rel="external noopener noreferrer nofollow">åˆ†äº«åˆ°å¾®åš</a>
        </li>
        

        <!-- Share Twitter -->
        
        <li class="menu-item">
            <a href="https://twitter.com/intent/tweet?text=blog&url=https://abinzzz.github.io&via=ab" target="_blank" rel="external noopener noreferrer nofollow">åˆ†äº«åˆ° Twitter</a>
        </li>
        

        <!-- Share Facebook -->
        
        <li class="menu-item">
            <a href="https://www.facebook.com/sharer/sharer.php?u=https://abinzzz.github.io" target="_blank" rel="external noopener noreferrer nofollow">åˆ†äº«åˆ° Facebook</a>
        </li>
        

        <!-- Share Google+ -->
        
        <li class="menu-item">
            <a href="https://plus.google.com/share?url=https://abinzzz.github.io" target="_blank" rel="external noopener noreferrer nofollow">åˆ†äº«åˆ° Google+</a>
        </li>
        

        <!-- Share LinkedIn -->
        
        <li class="menu-item">
            <a href="https://www.linkedin.com/shareArticle?mini=true&url=https://abinzzz.github.io&title=ML:Transformer" target="_blank" rel="external noopener noreferrer nofollow">åˆ†äº«åˆ° LinkedIn</a>
        </li>
        

        <!-- Share QQ -->
        
        <li class="menu-item">
            <a href="http://connect.qq.com/widget/shareqq/index.html?site=blog&title=ML:Transformer&summary=&pics=https://abinzzz.github.io/img/bot.ico&url=https://abinzzz.github.io" target="_blank" rel="external noopener noreferrer nofollow"> åˆ†äº«åˆ° QQ</a>
        </li>
        

        <!-- Share Telegram -->
        
        <li class="menu-item">
            <a href="https://t.me/share/url?url=https://abinzzz.github.io&text=ML:Transformer" target="_blank" rel="external noopener noreferrer nofollow">åˆ†äº«åˆ° Telegram</a>
        </li>
        

        <!-- QRCode -->
        
        <li class="menu-item">
            <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJQAAACUCAAAAABQV18IAAAB2UlEQVR42u3awW6EMAyEYd7/pdsrK8UzY8SBOD+XVRcKX6sEx3auvw8eFyhQoEAtUJc4Vufvv/dzQ3GP5DmgZqGWg+6GUucroLtmeR9Qo1CrAV49yE2I+8+d54A6A1WdTwY7KFDlxUUA7WBBnYdSgbJc6BtoO7CDGoNyicNbn69mM6A+i0oHs0tAq8GcTBhQs1Crhb4a7CrYVvdRQTpaJYDaCqUW+24hqBaBVdFMYkGNQqniq3qYSxBc8gFqPsq9HJ8G7CSZADUPpT5d0HaTxb2gQc1BdRo/qnjmCrDqDwQ1C6WSyKTAnzS1k3uAmomyATNoMiYLvvIfAWoEym246TS83QRxC0dQs1DJhof0RZpsqogaRqC2RKmNWknykC7gXOIKah6qkzimEyIp8j8qmoHaApUUulxgTReJ5YsX1AhU0iBKFoO2wZhsegY1ApUG5E6TyE2U1gYcUFuiOoWKtLmUFjWiSh6orVDpg9NEojP4Qc1EuUMNVjeQ083OoGahksJrmnh2NkaDmo1SA1wlEUlw7iSkoGahVGOo29B+uuEQ1Bmo5LukgBadB3UMqrPBy10fb5YAtT0qSRhc09EFZXUdqFmodMGfNipf3RUEajvUlw5QoECBuh3/uJrwwFZhFtcAAAAASUVORK5CYII=" alr="QRCode">
        </li>
        

    </ul>
</div>
    
    
</nav>
</header>

            
    <!-- ## Post ## -->
    <div class="post-container">
    <div id="post-card" class="card">
        
        <div class="card-item-container">
            <div class="card-inner-cell">
                <!-- # Post Header Info # -->
                <div class="card-header">
                    
    <h1 class="card-title h3 mb-2">ML:Transformer</h1>




<div class="post-header-info">
    <p class="post-header-info-left text-gray">
        <img class="author-thumb lazyload" data-src="/img/default_avatar.png" src="/img/suka-lazyload.gif" alt="ab's Avatar">
        <span>2023-10-28</span>
        
            <span class="suka-devide-dot"></span>
            <a class="category-link" href="/categories/%E4%B8%93%E4%B8%9A%E7%9F%A5%E8%AF%86/">ä¸“ä¸šçŸ¥è¯†</a><span class="suka-devide-dot"></span><a class="category-link" href="/categories/%E4%B8%93%E4%B8%9A%E7%9F%A5%E8%AF%86/ML/">ML</a>
        
        
            <!-- Busuanzi Post Views -->
<span id="busuanzi_container_page_pv" hidden>
    <span class="suka-devide-dot"></span>
    <span></span>
    <span id="busuanzi_value_page_pv"></span>
    <span>Views</span>
</span>
        
        
    </p>
    <div class="post-header-info-right">
        
            <div class="dropdown dropdown-right">
<a class="dropdown-toggle" tabindex="0">åˆ†äº«æœ¬æ–‡</a>
<ul class="menu share-menu">
    <!-- Share Weibo -->
    
    <li class="menu-item">
        <a href="http://service.weibo.com/share/share.php?appkey=&title=ML:Transformer&url=https://abinzzz.github.io/2023/10/28/Transformer/&pic=https://abinzzz.github.io/img/bot.ico&searchPic=false&style=simple" target="_blank" rel="external noopener noreferrer nofollow">åˆ†äº«åˆ°å¾®åš</a>
    </li>
    

    <!-- Share Twitter -->
    
    <li class="menu-item">
        <a href="https://twitter.com/intent/tweet?text=ML:Transformer&url=https://abinzzz.github.io/2023/10/28/Transformer/&via=ab" target="_blank" rel="external noopener noreferrer nofollow">åˆ†äº«åˆ° Twitter</a>
    </li>
    

    <!-- Share Facebook -->
    
    <li class="menu-item">
        <a href="https://www.facebook.com/sharer/sharer.php?u=https://abinzzz.github.io/2023/10/28/Transformer/" target="_blank" rel="external noopener noreferrer nofollow">åˆ†äº«åˆ° Facebook</a>
    </li>
    

    <!-- Share Google+ -->
    
    <li class="menu-item">
        <a href="https://plus.google.com/share?url=https://abinzzz.github.io/2023/10/28/Transformer/" target="_blank" rel="external noopener noreferrer nofollow">åˆ†äº«åˆ° Google+</a>
    </li>
    

    <!-- Share LinkedIn -->
    
    <li class="menu-item">
        <a href="https://www.linkedin.com/shareArticle?mini=true&url=https://abinzzz.github.io/2023/10/28/Transformer/&title=blog" target="_blank" rel="external noopener noreferrer nofollow">åˆ†äº«åˆ° LinkedIn</a>
    </li>
    

    <!-- Share QQ -->
    
    <li class="menu-item">
        <a href="http://connect.qq.com/widget/shareqq/index.html?site=blog&title=blog&summary=&pics=https://abinzzz.github.io/img/bot.ico&url=https://abinzzz.github.io/2023/10/28/Transformer/" target="_blank" rel="external noopener noreferrer nofollow"> åˆ†äº«åˆ° QQ</a>
    </li>
    

    <!-- Share Telegram -->
    
    <li class="menu-item">
        <a href="https://t.me/share/url?url=https://abinzzz.github.io/2023/10/28/Transformer/&text=blog" target="_blank" rel="external noopener noreferrer nofollow">åˆ†äº«åˆ° Telegram</a>
    </li>
    

    <!-- QRCode -->
    
    <li class="menu-item">
        <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJQAAACUCAAAAABQV18IAAAB2UlEQVR42u3awW6EMAyEYd7/pdsrK8UzY8SBOD+XVRcKX6sEx3auvw8eFyhQoEAtUJc4Vufvv/dzQ3GP5DmgZqGWg+6GUucroLtmeR9Qo1CrAV49yE2I+8+d54A6A1WdTwY7KFDlxUUA7WBBnYdSgbJc6BtoO7CDGoNyicNbn69mM6A+i0oHs0tAq8GcTBhQs1Crhb4a7CrYVvdRQTpaJYDaCqUW+24hqBaBVdFMYkGNQqniq3qYSxBc8gFqPsq9HJ8G7CSZADUPpT5d0HaTxb2gQc1BdRo/qnjmCrDqDwQ1C6WSyKTAnzS1k3uAmomyATNoMiYLvvIfAWoEym246TS83QRxC0dQs1DJhof0RZpsqogaRqC2RKmNWknykC7gXOIKah6qkzimEyIp8j8qmoHaApUUulxgTReJ5YsX1AhU0iBKFoO2wZhsegY1ApUG5E6TyE2U1gYcUFuiOoWKtLmUFjWiSh6orVDpg9NEojP4Qc1EuUMNVjeQ083OoGahksJrmnh2NkaDmo1SA1wlEUlw7iSkoGahVGOo29B+uuEQ1Bmo5LukgBadB3UMqrPBy10fb5YAtT0qSRhc09EFZXUdqFmodMGfNipf3RUEajvUlw5QoECBuh3/uJrwwFZhFtcAAAAASUVORK5CYII=" alt="QRCode">
    </li>
    

</ul>
</div>
        
    </div>
</div>
                </div>
                <div class="card-body">
                    
                        
                        
                            <div id="post-toc"><ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E5%AD%A6%E4%B9%A0%E9%93%BE%E6%8E%A5"><span class="post-toc-number">1.</span> <span class="post-toc-text"> å­¦ä¹ é“¾æ¥</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E7%9B%AE%E5%BD%95"><span class="post-toc-number">2.</span> <span class="post-toc-text"> ç›®å½•</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E4%B8%80introduction"><span class="post-toc-number">3.</span> <span class="post-toc-text"> ä¸€.Introduction</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E4%BA%8Cself-attention"><span class="post-toc-number">4.</span> <span class="post-toc-text"> äºŒ.Self-attention</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E4%B8%89multi-head-self-attention"><span class="post-toc-number">5.</span> <span class="post-toc-text"> ä¸‰.Multi-head Self-attention</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E5%9B%9Bposition-encoding"><span class="post-toc-number">6.</span> <span class="post-toc-text"> å››.Position Encoding</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E4%BA%94transformer"><span class="post-toc-number">7.</span> <span class="post-toc-text"> äº”.Transformer</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#51-encoder"><span class="post-toc-number">8.</span> <span class="post-toc-text"> 5.1 Encoder</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#52-decoder"><span class="post-toc-number">9.</span> <span class="post-toc-text"> 5.2 Decoder</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#53-cross-attention"><span class="post-toc-number">10.</span> <span class="post-toc-text"> 5.3 Cross Attention</span></a></li></ol></div>
                        
                    
                    <article id="post-content">
                        <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({ tex2jax: {inlineMath: [['$', '$']]}, messageStyle: "none" });
</script>
<h2 id="å­¦ä¹ é“¾æ¥"><a class="markdownIt-Anchor" href="#å­¦ä¹ é“¾æ¥"></a> å­¦ä¹ é“¾æ¥</h2>
<p>ğŸ”—ï¼š<a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1t84y1V7Xs/?share_source=copy_web&amp;vd_source=d8d8cd49f932177e1995e230d7816d44">Transformerè¯¦è§£å’Œè‡ªæ³¨æ„åŠ›æœºåˆ¶ Self-attention</a></p>
<p>ğŸ”—ï¼š<a target="_blank" rel="noopener" href="https://arxiv.org/pdf/1706.03762.pdf">Attention Is All You Need</a></p>
<h2 id="ç›®å½•"><a class="markdownIt-Anchor" href="#ç›®å½•"></a> ç›®å½•</h2>
<ul>
<li>1.Introduction</li>
<li>2.Self-attention</li>
<li>3.Multi-head Self-attention</li>
<li>4.Position Encoding</li>
<li>5.Transformer
<ul>
<li>5.1 Encoder</li>
<li>5.2 Decoder</li>
<li>5.3 Cross Attention</li>
</ul>
</li>
</ul>
<h2 id="ä¸€introduction"><a class="markdownIt-Anchor" href="#ä¸€introduction"></a> ä¸€.Introduction</h2>
<p>åœ¨è¿‡å»çš„ä½¿ç”¨åœºæ™¯ä¸­ï¼Œæ¨¡å‹çš„è¾“å…¥é€šå¸¸åªæœ‰ä¸€ä¸ªå•ç‹¬çš„å‘é‡ï¼Œè€Œæ¨¡å‹çš„è¾“å‡ºåˆ™æ˜¯é¢„æµ‹çš„æ•°å€¼æˆ–ç±»åˆ«,è§ä¸‹å›¾ï¼š<br />
<img src="https://pbs.twimg.com/media/F9ga5sDWEAATK3N?format=jpg&amp;name=medium" alt="" /></p>
<Br>
<p>ä½†æ˜¯å‡è®¾è¾“å…¥çš„æ˜¯ä¸€æ’å‘é‡ï¼ˆæˆ–åºåˆ—ï¼‰ï¼Œä¸”å‘é‡çš„é•¿åº¦ä¸æ˜¯å›ºå®šçš„ï¼Œä¾‹å¦‚å£°éŸ³ä¿¡å·ã€è¯­å¥ã€åŸºå› åºåˆ—ç­‰ï¼Œå¦‚ä¸‹å›¾ï¼š<br />
<img src="https://pbs.twimg.com/media/F9gbRiOWgAA37Ip?format=png&amp;name=small" alt="" /></p>
<br>
<p>è€Œå¯¹äºæ¨¡å‹è¾“å‡ºè€Œè¨€ï¼Œå¯ä»¥åˆ†ä¸ºå¦‚ä¸‹å›¾æ‰€ç¤ºçš„ä¸‰ç§ç±»å‹ï¼Œå³è¾“å…¥è¾“å‡ºåºåˆ—é•¿åº¦ä¸å˜ï¼Œåªæœ‰ä¸€ä¸ªè¾“å‡ºå’Œè¾“å‡ºé•¿åº¦ä¸ç¡®å®šï¼š<br />
<img src="https://pbs.twimg.com/media/F9gb-XnWkAASrfR?format=png&amp;name=900x900" alt="" /></p>
<Br>
<p>ä»¥ç¬¬ä¸€ç§ç±»å‹ä¸ºä¾‹ï¼Œå¸¸è§„çš„æƒ³æ³•æ˜¯é‡‡å–å„ä¸ªå‡»ç ´çš„æ–¹æ³•ï¼Œç»™æ¯ä¸ªå‘é‡æ·»åŠ ä¸€ä¸ªå…¨è¿æ¥å±‚ï¼Œä»è€Œå¾—åˆ°æˆ‘ä»¬æƒ³è¦çš„è¾“å‡ºï¼Œä½†æ˜¯è¿™æ ·çš„æ–¹æ³•å¹¶æ²¡æœ‰è€ƒè™‘åˆ°å„ä¸ªè¾“å…¥å‘é‡ä¹‹é—´çš„å…³ç³»:<br />
<img src="https://pbs.twimg.com/media/F9gcWpEW8AAQp0f?format=png&amp;name=small" alt="" /></p>
<Br>
<p>å› æ­¤ä¸ºäº†è®©å…¨è¿æ¥å±‚èƒ½å¤Ÿè€ƒè™‘åˆ°ä¸Šä¸‹æ–‡ä¿¡æ¯ä¹‹é—´çš„å…³ç³»ï¼Œå¯ä»¥å°†å¤šä¸ªç›¸é‚»çš„è¾“å…¥å‘é‡æˆ–åºåˆ—ä¸²è”èµ·æ¥ç»™åˆ°å…¨è¿æ¥å±‚ï¼Œä½†æ˜¯åˆ°åº•éœ€è¦å¤šå°‘ä¸ªç›¸é‚»çš„è¾“å…¥å‘é‡ï¼Œä»¥åŠå¦‚ä½•èƒ½å¤ŸæŠŠæ•´ä¸ªåºåˆ—ä½œä¸ºè¾“å…¥ï¼Œè¿™å°±æ˜¯Self-attentionæ‰€è¦åšçš„å·¥ä½œã€‚<br />
<img src="https://pbs.twimg.com/media/F9gcU_YWwAAiJUq?format=png&amp;name=900x900" alt="" /></p>
<Br>
<h2 id="äºŒself-attention"><a class="markdownIt-Anchor" href="#äºŒself-attention"></a> äºŒ.Self-attention</h2>
<p><img src="https://pbs.twimg.com/media/F9gdH2ZWwAAHvJ9?format=png&amp;name=900x900" alt="" /><br />
<strong>Self-attention</strong>çš„å†…éƒ¨æœºåˆ¶å¤§è‡´å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œæ¯ä¸ªè¾“å‡º<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>b</mi><mi>i</mi></msup></mrow><annotation encoding="application/x-tex">b^i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.824664em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.824664em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span></span></span></span></span></span></span>éƒ½è€ƒè™‘äº†æ‰€æœ‰çš„è¾“å…¥<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>a</mi><mi>j</mi></msup></mrow><annotation encoding="application/x-tex">a^j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.824664em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.824664em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span></span></span></span></span></span></span></span>ã€‚ä»¥å•ä¸ªè¾“å‡º<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>b</mi><mn>1</mn></msup></mrow><annotation encoding="application/x-tex">b^1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span>ä¸ºä¾‹ï¼Œ<strong>Self-attention</strong>çš„å…·ä½“æ“ä½œæµç¨‹å¦‚ä¸‹ï¼š</p>
<br>
<p>---------- <strong>Self-attentionæµç¨‹Â·BEGIN</strong> ----------</p>
<ul>
<li><strong><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Î±</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span></span></span></span></strong>: ä¸¤ä¸ªè¾“å…¥å‘é‡ä¹‹é—´çš„å…³è”æ€§</li>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>Î±</mi><msup><mrow></mrow><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup></msup></mrow><annotation encoding="application/x-tex">\alpha^{&#x27;}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.94248em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.94248em;"><span style="top:-2.94248em;margin-right:0.05em;"><span class="pstrut" style="height:2.57948em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8278285714285715em;"><span style="top:-2.931em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>: ç»è¿‡softmaxåï¼Œä¸¤ä¸ªè¾“å…¥å‘é‡ä¹‹é—´çš„å…³è”æ€§</li>
<li>aï¼šè¾“å…¥</li>
<li>bï¼šè¾“å‡º</li>
<li>Wï¼šæƒé‡</li>
</ul>
<br>
<p><strong>Step1</strong>: å°†ä¸¤ä¸ªè¾“å…¥å‘é‡å„è‡ªä¹˜ä»¥<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>W</mi><mi>q</mi></msup><mtext>å’Œ</mtext><msup><mi>W</mi><mi>k</mi></msup></mrow><annotation encoding="application/x-tex">W^qå’ŒW^k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.849108em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">q</span></span></span></span></span></span></span></span><span class="mord cjk_fallback">å’Œ</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.849108em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span></span></span></span></span></span></span>,å¾—åˆ°<strong>q</strong>å’Œ<strong>k</strong>ï¼Œå†å°†<strong>q</strong>å’Œ<strong>k</strong>åšç‚¹ä¹˜ï¼Œä»è€Œå¾—åˆ°ä¸¤ä¸ªè¾“å…¥å‘é‡ä¹‹é—´çš„å…³è”æ€§ï¼Œè®°ä½œ <strong><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Î±</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span></span></span></span></strong>:</p>
<p><img src="https://pbs.twimg.com/media/F9geSIyXEAASAsN?format=png&amp;name=small" alt="" /></p>
<br>
<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œåˆ†åˆ«å¾—åˆ°è¾“å…¥å‘é‡<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>a</mi><mn>1</mn></msup></mrow><annotation encoding="application/x-tex">a^1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>a</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">a^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span>ä¹‹é—´çš„å…³è”æ€§<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Î±</mi><mrow><mn>1</mn><mo separator="true">,</mo><mn>2</mn></mrow></msub></mrow><annotation encoding="application/x-tex">\alpha_{1,2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.716668em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:-0.0037em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mpunct mtight">,</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>,è¾“å…¥å‘é‡<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>a</mi><mn>1</mn></msup></mrow><annotation encoding="application/x-tex">a^1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span>å’Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>a</mi><mn>3</mn></msup></mrow><annotation encoding="application/x-tex">a^3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span></span></span></span>ä¹‹é—´çš„å…³è”æ€§<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Î±</mi><mrow><mn>1</mn><mo separator="true">,</mo><mn>3</mn></mrow></msub></mrow><annotation encoding="application/x-tex">\alpha_{1,3}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.716668em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:-0.0037em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mpunct mtight">,</span><span class="mord mtight">3</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>,è¾“å…¥å‘é‡<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>a</mi><mn>1</mn></msup></mrow><annotation encoding="application/x-tex">a^1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span>å’Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>a</mi><mn>4</mn></msup></mrow><annotation encoding="application/x-tex">a^4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span></span></span></span></span></span></span></span>ä¹‹é—´çš„å…³è”æ€§<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Î±</mi><mrow><mn>1</mn><mo separator="true">,</mo><mn>4</mn></mrow></msub></mrow><annotation encoding="application/x-tex">\alpha_{1,4}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.716668em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:-0.0037em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mpunct mtight">,</span><span class="mord mtight">4</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>:</p>
<p><img src="https://pbs.twimg.com/media/F9gfBdbXsAAhxnX?format=png&amp;name=900x900" alt="" /></p>
<Br>
<p><strong>Step2</strong>: é€šå¸¸æƒ…å†µä¸‹ï¼Œè¿˜éœ€è¦è€ƒè™‘è¾“å…¥å‘é‡å’Œè‡ªèº«çš„å…³è”æ€§ï¼Œç„¶åå°†è®¡ç®—å¾—åˆ°çš„æ‰€æœ‰å…³è”æ€§<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Î±</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span></span></span></span>æ‰”ç»™<strong>softmax</strong>å‡½æ•°ï¼Œå¾—åˆ°<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>Î±</mi><msup><mrow></mrow><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup></msup></mrow><annotation encoding="application/x-tex">\alpha^{&#x27;}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.94248em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.94248em;"><span style="top:-2.94248em;margin-right:0.05em;"><span class="pstrut" style="height:2.57948em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8278285714285715em;"><span style="top:-2.931em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>:</p>
<p><img src="https://pbs.twimg.com/media/F9ggDgFW0AEZ98Z?format=png&amp;name=900x900" alt="" /></p>
<Br>
<p><strong>Step3</strong>: æ ¹æ®è¾“å…¥å‘é‡ä¹‹é—´çš„å…³è”æ€§<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>Î±</mi><msup><mrow></mrow><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup></msup></mrow><annotation encoding="application/x-tex">\alpha^{&#x27;}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.94248em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.94248em;"><span style="top:-2.94248em;margin-right:0.05em;"><span class="pstrut" style="height:2.57948em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8278285714285715em;"><span style="top:-2.931em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>è¿›ä¸€æ­¥æå–å‘é‡ä¸­çš„é‡è¦ä¿¡æ¯ï¼Œå³å°†æ¯ä¸ªè¾“å…¥å‘é‡<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>a</mi><mi>i</mi></msup></mrow><annotation encoding="application/x-tex">a^i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.824664em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.824664em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span></span></span></span></span></span></span>ä¹˜ä»¥<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>W</mi><mi>v</mi></msup></mrow><annotation encoding="application/x-tex">W^v</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span></span></span></span></span></span></span></span></span></span></span>å¾—åˆ°<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>v</mi><mi>i</mi></msup></mrow><annotation encoding="application/x-tex">v^i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.824664em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.824664em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span></span></span></span></span></span></span>,å¹¶ä¸å…¶ç›¸å…³çš„å…³è”æ€§åˆ†æ•°<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>Î±</mi><mrow><mn>1</mn><mo separator="true">,</mo><mi>i</mi></mrow><msup><mrow></mrow><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup></msubsup></mrow><annotation encoding="application/x-tex">\alpha^{&#x27;}_{1,i}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.3372519999999999em;vertical-align:-0.394772em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.94248em;"><span style="top:-2.441336em;margin-left:-0.0037em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">i</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8278285714285715em;"><span style="top:-2.931em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.394772em;"><span></span></span></span></span></span></span></span></span></span>ç›¸ä¹˜ï¼Œæœ€åå°†ç»“æœç´¯åŠ å¾—åˆ°<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>b</mi><mn>1</mn></msup></mrow><annotation encoding="application/x-tex">b^1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span>:</p>
<p><img src="https://pbs.twimg.com/media/F9ghm8nWEAAYMrK?format=png&amp;name=900x900" alt="" /></p>
<p>è¿™æ ·ä¸€æ¥ï¼Œå‡è®¾è¾“å…¥å‘é‡<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>a</mi><mn>1</mn></msup><mtext>å’Œ</mtext><msup><mi>a</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">a^1å’Œa^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span><span class="mord cjk_fallback">å’Œ</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span>çš„å…³è”æ€§æ¯”è¾ƒå¤§ï¼Œå³<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>Î±</mi><mrow><mn>1</mn><mo separator="true">,</mo><mn>2</mn></mrow><msup><mrow></mrow><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup></msubsup></mrow><annotation encoding="application/x-tex">\alpha^{&#x27;}_{1,2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.3266959999999999em;vertical-align:-0.38421599999999995em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.94248em;"><span style="top:-2.4518920000000004em;margin-left:-0.0037em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mpunct mtight">,</span><span class="mord mtight">2</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8278285714285715em;"><span style="top:-2.931em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.38421599999999995em;"><span></span></span></span></span></span></span></span></span></span>çš„å€¼è¾ƒå¤§ï¼Œæ ¹æ®ç´¯åŠ å¾—åˆ°çš„<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>b</mi><mn>1</mn></msup></mrow><annotation encoding="application/x-tex">b^1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span>ä¹Ÿä¼šæ›´æ¥è¿‘<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>Î±</mi><mrow><mn>1</mn><mo separator="true">,</mo><mn>2</mn></mrow><msup><mrow></mrow><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup></msubsup></mrow><annotation encoding="application/x-tex">\alpha_{1,2}^{&#x27;}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.3266959999999999em;vertical-align:-0.38421599999999995em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.94248em;"><span style="top:-2.4518920000000004em;margin-left:-0.0037em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mpunct mtight">,</span><span class="mord mtight">2</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8278285714285715em;"><span style="top:-2.931em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.38421599999999995em;"><span></span></span></span></span></span></span></span></span></span></p>
<p>---------- <strong>Self-attentionæµç¨‹Â·END</strong> ----------</p>
<br>
<p>å®é™…ä¸Šï¼Œ<strong>Self-attention</strong>çš„è¾“å‡º<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>b</mi><mn>1</mn></msup><mtext>ã€</mtext><msup><mi>b</mi><mn>2</mn></msup><mtext>ã€</mtext><msup><mi>b</mi><mn>3</mn></msup><mtext>ã€</mtext><msup><mi>b</mi><mn>4</mn></msup></mrow><annotation encoding="application/x-tex">b^1ã€b^2ã€b^3ã€b^4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span><span class="mord cjk_fallback">ã€</span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mord cjk_fallback">ã€</span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span><span class="mord cjk_fallback">ã€</span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span></span></span></span></span></span></span></span>å¯ä»¥åŒæ—¶å¾—åˆ°ã€‚ä»çŸ©é˜µè¿ç®—çš„è§’åº¦æ¥è¯´ï¼Œ<strong>Self-attention</strong>çš„å…·ä½“æ“ä½œæµç¨‹å¦‚ä¸‹:</p>
<p>---------- <strong>Self-attentionæµç¨‹Â·çŸ©é˜µè§’åº¦Â·BEGIN</strong> ----------</p>
<p><strong>Step1</strong>: å°†è¾“å…¥å‘é‡<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>a</mi><mn>1</mn></msup><mtext>ã€</mtext><msup><mi>a</mi><mn>2</mn></msup><mtext>ã€</mtext><msup><mi>a</mi><mn>3</mn></msup><mtext>ã€</mtext><msup><mi>a</mi><mn>4</mn></msup></mrow><annotation encoding="application/x-tex">a^1ã€a^2ã€a^3ã€a^4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span><span class="mord cjk_fallback">ã€</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mord cjk_fallback">ã€</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span><span class="mord cjk_fallback">ã€</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span></span></span></span></span></span></span></span>æŒ‰åˆ—ç»„åˆæˆä¸€ä¸ªçŸ©é˜µ<strong>I</strong>ï¼Œä¸<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>W</mi><mi>q</mi></msup></mrow><annotation encoding="application/x-tex">W^q</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">q</span></span></span></span></span></span></span></span></span></span></span>ç›¸ä¹˜å¾—åˆ°çŸ©é˜µ<strong>Q</strong>ï¼Œå…¶ä¸­çŸ©é˜µ<strong>Q</strong>åŒ…å«äº†æ‰€æœ‰è¾“å…¥å‘é‡å¯¹åº”çš„<strong>query</strong>ï¼ŒåŒç†å¯ä»¥å¾—åˆ°<strong>key</strong>å’Œ<strong>value</strong>å¯¹åº”çš„çŸ©é˜µ<strong>K</strong>å’Œ<strong>V</strong>ï¼š</p>
<p><img src="https://pbs.twimg.com/media/F9gnaaWXsAAAt4b?format=png&amp;name=small" alt="" /></p>
<Br>
<p><strong>Step2</strong>: å°†å„ä¸ªå‘é‡å¯¹åº”çš„keyæŒ‰è¡Œç»„åˆï¼Œä¸è¾“å…¥å‘é‡<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>a</mi><mn>1</mn></msup></mrow><annotation encoding="application/x-tex">a^1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span>ç›¸ä¹˜ï¼Œå¾—åˆ°ä¸è¾“å…¥å‘é‡<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>a</mi><mn>1</mn></msup></mrow><annotation encoding="application/x-tex">a^1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span>ä¹‹é—´çš„æ‰€æœ‰å…³è”æ€§åˆ†æ•°<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Î±</mi><mrow><mn>1</mn><mo separator="true">,</mo><mn>1</mn></mrow></msub><mo separator="true">,</mo><msub><mi>Î±</mi><mrow><mn>1</mn><mo separator="true">,</mo><mn>2</mn></mrow></msub><mo separator="true">,</mo><msub><mi>Î±</mi><mrow><mn>1</mn><mo separator="true">,</mo><mn>3</mn></mrow></msub><mo separator="true">,</mo><msub><mi>Î±</mi><mrow><mn>1</mn><mo separator="true">,</mo><mn>4</mn></mrow></msub></mrow><annotation encoding="application/x-tex">\alpha_{1,1},\alpha_{1,2},\alpha_{1,3},\alpha_{1,4}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.716668em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:-0.0037em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mpunct mtight">,</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:-0.0037em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mpunct mtight">,</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:-0.0037em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mpunct mtight">,</span><span class="mord mtight">3</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:-0.0037em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mpunct mtight">,</span><span class="mord mtight">4</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>:</p>
<p><img src="https://pbs.twimg.com/media/F9gogsNXMAAId0E?format=png&amp;name=small" alt="" /></p>
<br>
<p>ç”±æ­¤å¯çŸ¥ï¼Œå°†çŸ©é˜µ<strong>K</strong>è½¬ç½®åï¼Œä¸çŸ©é˜µ<strong>Q</strong>ç›¸ä¹˜å¾—åˆ°çŸ©é˜µ<strong>A</strong>ï¼Œå…¶ä¸­çŸ©é˜µ<strong>A</strong>åŒ…å«äº†æ‰€æœ‰è¾“å…¥å‘é‡ä¹‹é—´çš„å…³è”æ€§åˆ†æ•°:</p>
<p><img src="https://pbs.twimg.com/media/F9go9LzXMAAdiWQ?format=png&amp;name=small" alt="" /></p>
<Br>
<p>ç„¶åå†å°†çŸ©é˜µ<strong>A</strong>ç»™åˆ°<strong>Softmax</strong>æ¿€æ´»å‡½æ•°ï¼Œå¾—åˆ°çŸ©é˜µ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>A</mi><msup><mrow></mrow><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup></msup></mrow><annotation encoding="application/x-tex">A^{&#x27;}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.94248em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.94248em;"><span style="top:-2.94248em;margin-right:0.05em;"><span class="pstrut" style="height:2.57948em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8278285714285715em;"><span style="top:-2.931em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>:</p>
<p><img src="https://pbs.twimg.com/media/F9gpKivWcAABybY?format=png&amp;name=900x900" alt="" /></p>
<BR>
<p><strong>Step3</strong>: æœ€åå°†å„ä¸ªè¾“å…¥å‘é‡å¯¹åº”çš„<strong>value</strong>æŒ‰åˆ—ç»„åˆæˆä¸€ä¸ªçŸ©é˜µVï¼Œå¹¶ä¸çŸ©é˜µ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>A</mi><msup><mrow></mrow><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup></msup></mrow><annotation encoding="application/x-tex">A^{&#x27;}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.94248em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.94248em;"><span style="top:-2.94248em;margin-right:0.05em;"><span class="pstrut" style="height:2.57948em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8278285714285715em;"><span style="top:-2.931em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>:</p>
<p><img src="https://pbs.twimg.com/media/F9gpf5DXwAAe8rb?format=png&amp;name=small" alt="" /></p>
<p>---------- <strong>Self-attentionæµç¨‹Â·çŸ©é˜µè§’åº¦Â·END</strong> ----------</p>
<br>
<h2 id="ä¸‰multi-head-self-attention"><a class="markdownIt-Anchor" href="#ä¸‰multi-head-self-attention"></a> ä¸‰.Multi-head Self-attention</h2>
<p><strong>Multi-head Self-attention</strong>å°±æ˜¯ç”±å¤šä¸ªå•ç‹¬çš„<strong>Self-attention</strong>å †å è€Œæˆï¼Œæ¯ä¸ª<strong>Self-attention</strong>ä¹‹é—´å…·æœ‰ç‹¬ç«‹çš„å‚æ•°çŸ©é˜µï¼Œç›¸äº’ä¹‹é—´ä¸å…±äº«å‚æ•°ã€‚</p>
<p>ä»¥<strong>2 heads</strong>ä¸ºä¾‹ï¼Œé¦–å…ˆé€šè¿‡è¾“å…¥å‘é‡<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>a</mi><mi>i</mi></msup></mrow><annotation encoding="application/x-tex">a^i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.824664em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.824664em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span></span></span></span></span></span></span>ä¸çŸ©é˜µ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>W</mi><mi>q</mi></msup></mrow><annotation encoding="application/x-tex">W^q</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">q</span></span></span></span></span></span></span></span></span></span></span>ç›¸ä¹˜å¾—åˆ°<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>q</mi><mi>i</mi></msup></mrow><annotation encoding="application/x-tex">q^i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.019104em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.824664em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span></span></span></span></span></span></span>ï¼Œå†å°†å‘é‡<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>q</mi><mi>i</mi></msup></mrow><annotation encoding="application/x-tex">q^i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.019104em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.824664em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span></span></span></span></span></span></span>ä¸2ä¸ªä¸åŒçš„çŸ©é˜µç›¸ä¹˜å¾—åˆ°ä¸¤ä¸ªå‚æ•°<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>q</mi><mrow><mi>i</mi><mo separator="true">,</mo><mn>1</mn></mrow></msup></mrow><annotation encoding="application/x-tex">q^{i,1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.019104em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.824664em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mpunct mtight">,</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span>å’Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>q</mi><mrow><mi>i</mi><mo separator="true">,</mo><mn>2</mn></mrow></msup></mrow><annotation encoding="application/x-tex">q^{i,2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.019104em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.824664em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mpunct mtight">,</span><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span></p>
<p>åŒç†å¯ä»¥å¾—åˆ°å‚æ•°<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>k</mi><mrow><mi>i</mi><mo separator="true">,</mo><mn>1</mn></mrow></msup><mtext>ã€</mtext><msup><mi>k</mi><mrow><mi>i</mi><mo separator="true">,</mo><mn>2</mn></mrow></msup><mtext>ã€</mtext><msup><mi>v</mi><mrow><mi>i</mi><mo separator="true">,</mo><mn>1</mn></mrow></msup><mtext>å’Œ</mtext><msup><mi>v</mi><mrow><mi>i</mi><mo separator="true">,</mo><mn>2</mn></mrow></msup></mrow><annotation encoding="application/x-tex">k^{i,1}ã€k^{i,2}ã€v^{i,1}å’Œv^{i,2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.824664em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.824664em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mpunct mtight">,</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mord cjk_fallback">ã€</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.824664em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mpunct mtight">,</span><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mord cjk_fallback">ã€</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.824664em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mpunct mtight">,</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mord cjk_fallback">å’Œ</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.824664em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mpunct mtight">,</span><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span>ã€‚å¯¹äºå¦ä¸€ä¸ªè¾“å…¥å‘é‡<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>a</mi><mi>j</mi></msup></mrow><annotation encoding="application/x-tex">a^j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.824664em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.824664em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span></span></span></span></span></span></span></span>ï¼ŒåŒæ ·å¯ä»¥å¾—åˆ°ä¸¤ç»„å‚æ•°<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>q</mi><mrow><mi>j</mi><mo separator="true">,</mo><mn>1</mn></mrow></msup><mtext>å’Œ</mtext><msup><mi>q</mi><mrow><mi>j</mi><mo separator="true">,</mo><mn>2</mn></mrow></msup><mtext>ï¼Œ</mtext><msup><mi>k</mi><mrow><mi>j</mi><mo separator="true">,</mo><mn>1</mn></mrow></msup><mtext>å’Œ</mtext><msup><mi>k</mi><mrow><mi>j</mi><mo separator="true">,</mo><mn>2</mn></mrow></msup><mtext>ï¼Œ</mtext><msup><mi>v</mi><mrow><mi>j</mi><mo separator="true">,</mo><mn>1</mn></mrow></msup><mtext>å’Œ</mtext><msup><mi>v</mi><mrow><mi>j</mi><mo separator="true">,</mo><mn>2</mn></mrow></msup></mrow><annotation encoding="application/x-tex">q^{j,1}å’Œq^{j,2}ï¼Œk^{j,1}å’Œk^{j,2}ï¼Œv^{j,1}å’Œv^{j,2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.019104em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.824664em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mpunct mtight">,</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mord cjk_fallback">å’Œ</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.824664em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mpunct mtight">,</span><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mord cjk_fallback">ï¼Œ</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.824664em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mpunct mtight">,</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mord cjk_fallback">å’Œ</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.824664em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mpunct mtight">,</span><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mord cjk_fallback">ï¼Œ</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.824664em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mpunct mtight">,</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mord cjk_fallback">å’Œ</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.824664em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mpunct mtight">,</span><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span>ã€‚<br />
åœ¨è®¡ç®—å…³è”åº¦åˆ†æ•°æ—¶ï¼Œåªéœ€å…ˆå¯¹ç¬¬ä¸€ç±»çš„å‚æ•°è¿›è¡Œè®¡ç®—ï¼Œå¾—åˆ°<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>b</mi><mrow><mi>i</mi><mo separator="true">,</mo><mn>1</mn></mrow></msup></mrow><annotation encoding="application/x-tex">b^{i,1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.824664em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.824664em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mpunct mtight">,</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span></p>
<p><img src="https://pbs.twimg.com/media/F9gvXvFWkAA5byj?format=png&amp;name=900x900" alt="" /></p>
<br>
<p>å†å¯¹ç¬¬äºŒç±»çš„å‚æ•°è¿›è¡Œè®¡ç®—ï¼Œå¾—åˆ°<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>b</mi><mrow><mi>i</mi><mo separator="true">,</mo><mn>2</mn></mrow></msup></mrow><annotation encoding="application/x-tex">b^{i,2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.824664em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.824664em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mpunct mtight">,</span><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span>ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º:</p>
<p><img src="https://pbs.twimg.com/media/F9gwr33WAAAS6xK?format=png&amp;name=900x900" alt="" /></p>
<BR>
<p>æœ€åå°†<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>b</mi><mrow><mi>i</mi><mo separator="true">,</mo><mn>1</mn></mrow></msup></mrow><annotation encoding="application/x-tex">b^{i,1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.824664em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.824664em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mpunct mtight">,</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span>å’Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>b</mi><mrow><mi>i</mi><mo separator="true">,</mo><mn>2</mn></mrow></msup></mrow><annotation encoding="application/x-tex">b^{i,2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.824664em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.824664em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mpunct mtight">,</span><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span>æ‹¼æ¥èµ·æ¥ï¼Œä¸çŸ©é˜µ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>W</mi><mi>O</mi></msup></mrow><annotation encoding="application/x-tex">W^O</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8413309999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">O</span></span></span></span></span></span></span></span></span></span></span>ç›¸ä¹˜å¾—åˆ°Multi-head Self-attentionçš„ç¬¬iä¸ªè¾“å‡º<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>b</mi><mi>i</mi></msup></mrow><annotation encoding="application/x-tex">b^i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.824664em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.824664em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span></span></span></span></span></span></span>:</p>
<p><img src="https://pbs.twimg.com/media/F9gy4kZWEAA85Tu?format=png&amp;name=360x360" alt="" /></p>
<br>
<h2 id="å››position-encoding"><a class="markdownIt-Anchor" href="#å››position-encoding"></a> å››.Position Encoding</h2>
<p>ç”±äºåœ¨<strong>Self-attention</strong>çš„è®¡ç®—ä¸­ä¸åŒ…å«ä½ç½®ä¿¡æ¯ï¼Œå› æ­¤ä¸ºäº†åŠ å…¥ä½ç½®ä¿¡æ¯ï¼Œéœ€è¦åœ¨æ¯ä¸ªä½ç½®éƒ½å®šä¹‰ä¸€ä¸ªä½ç½®å‘é‡<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>e</mi><mi>i</mi></msup></mrow><annotation encoding="application/x-tex">e^i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.824664em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.824664em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span></span></span></span></span></span></span>ï¼Œå¹¶ä¸”ç›´æ¥åŠ åˆ°è¾“å…¥å‘é‡<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>a</mi><mi>i</mi></msup></mrow><annotation encoding="application/x-tex">a^i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.824664em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.824664em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span></span></span></span></span></span></span>ä¸Š</p>
<p><img src="https://pbs.twimg.com/media/F9g0EcuXgAAyMfh?format=png&amp;name=240x240" alt="" /></p>
<br>
<p>ä½ç½®å‘é‡<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>e</mi><mi>i</mi></msup></mrow><annotation encoding="application/x-tex">e^i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.824664em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.824664em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span></span></span></span></span></span></span>é€šå¸¸æ˜¯æ‰‹åŠ¨è®¾ç½®ï¼Œä¹Ÿå¯ä»¥é€šè¿‡å­¦ä¹ å¾—åˆ°:</p>
<p><img src="https://pbs.twimg.com/media/F9g0YWhXQAAJqFz?format=png&amp;name=900x900" alt="" /></p>
<Br>
<h2 id="äº”transformer"><a class="markdownIt-Anchor" href="#äº”transformer"></a> äº”.Transformer</h2>
<p><strong>Transformer</strong>æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ª<strong>Sequence-to-sequence(Seq2seq)</strong> çš„æ¨¡å‹ï¼Œå®ƒçš„è¾“å‡ºåºåˆ—é•¿åº¦ä¸å†æ˜¯å›ºå®šçš„ï¼Œè€Œæ˜¯ç”±æ¨¡å‹è‡ªèº«å†³å®šï¼š</p>
<p><img src="https://pbs.twimg.com/media/F9g1Kh2W8AAvcLR?format=png&amp;name=360x360" alt="" /></p>
<p><strong>Sequence-to-sequence(Seq2seq)<strong>çš„æ¨¡å‹ç»“æ„é€šå¸¸å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œç”±</strong>Encoder</strong>å¯¹è¾“å…¥å‘é‡ï¼ˆæˆ–åºåˆ—ï¼‰è¿›è¡Œå¤„ç†ï¼Œå¤„ç†å®Œä¹‹åç»™åˆ°<strong>Decoder</strong>ï¼Œå¹¶ç”±<strong>Decoder</strong>å†³å®šè¾“å‡ºå‘é‡ï¼ˆæˆ–åºåˆ—ï¼‰</p>
<br>
<h2 id="51-encoder"><a class="markdownIt-Anchor" href="#51-encoder"></a> 5.1 Encoder</h2>
<p>å…¶ä¸­<strong>Encoder</strong>éƒ¨åˆ†çš„ä½œç”¨æ˜¯ç»™å®šä¸€ç»„å‘é‡ï¼ˆæˆ–åºåˆ—ï¼‰ï¼Œè¾“å‡ºä¸€ç»„ç›¸åŒé•¿åº¦çš„å‘é‡ï¼ˆæˆ–åºåˆ—ï¼‰:</p>
<p><img src="https://pbs.twimg.com/media/F9g31TEWoAA2RVL?format=png&amp;name=small" alt="" /></p>
<Br>
<p>æ ¹æ®åŸè®ºæ–‡<a target="_blank" rel="noopener" href="https://arxiv.org/pdf/1706.03762.pdf">Attention Is All You Need</a>ä¸­çš„ä»‹ç»ï¼Œè¿›ä¸€æ­¥æ‹†è§£å®ƒçš„å†…éƒ¨ç»“æ„å¯ä»¥çœ‹åˆ°ï¼Œè¾“å…¥å‘é‡<strong>b</strong>ç»è¿‡<strong>Self-attention</strong>å¾—åˆ°å‘é‡<strong>a</strong>ï¼ŒåŒæ—¶ç”±ç›¸åº”çš„è¾“å…¥å‘é‡<strong>b</strong>é€šè¿‡è·³è·ƒè¿æ¥ä¸å‘é‡<strong>a</strong>ç›¸åŠ ï¼Œç»è¿‡ä¸€æ¬¡<strong>Layer Norm</strong>æ“ä½œåå¾—åˆ°å‘é‡<strong>c</strong>ã€‚å°†å‘é‡<strong>c</strong>ç»™åˆ°å…¨è¿æ¥å±‚å¾—åˆ°å‘é‡<strong>d</strong>ï¼Œå¹¶ä¸è‡ªèº«é€šè¿‡è·³è·ƒè¿æ¥ç›¸åŠ å¾—åˆ°å‘é‡<strong>e</strong>ï¼Œæœ€åå†åšä¸€æ¬¡<strong>Layer Norm</strong>æ“ä½œå¾—åˆ°å‘é‡<strong>f</strong>:</p>
<p><img src="https://pbs.twimg.com/media/F9g45hmXQAANv5j?format=jpg&amp;name=900x900" alt="" /></p>
<br>
<h2 id="52-decoder"><a class="markdownIt-Anchor" href="#52-decoder"></a> 5.2 Decoder</h2>
<p>æ ¹æ®<a target="_blank" rel="noopener" href="https://arxiv.org/pdf/1706.03762.pdf">Attention Is All You Need</a>ä¸­çš„ä»‹ç»ï¼ŒDecoderçš„å†…éƒ¨ç»“æ„å¯ä»¥çœ‹åˆ°:</p>
<p><img src="https://pbs.twimg.com/media/F9g5UhxWMAAg0p5?format=png&amp;name=small" alt="" /></p>
<Br>
<p>åœ¨<strong>Decoder</strong>ä¸­ï¼Œ<strong>Encoder</strong>çš„è¾“å‡ºåœ¨ç»è¿‡<strong>cross attention</strong>å¤„ç†ä¹‹åï¼Œæ¥ä½œä¸º<strong>Decoder</strong>çš„è¾“å…¥ï¼Œå¦å¤–è¿˜éœ€è¦ç»™äºˆä¸€ä¸ª<strong>one-hot</strong>å½¢å¼çš„<strong>BEGIN</strong>ä¿¡å·è®©<strong>Decoder</strong>å¼€å§‹è¾“å‡ºä¸€ä¸ªå‘é‡ã€‚</p>
<p>åœ¨NLPä»»åŠ¡ä¸­ï¼Œè¿™ä¸ªå‘é‡çš„é•¿åº¦ç”±ä»»åŠ¡æ‰€éœ€è¦çš„è¯­è¨€å•è¯æˆ–çŸ­è¯­çš„æ•°é‡æ¥å†³å®šï¼Œä¾‹å¦‚è¯†åˆ«çš„è¯­è¨€æ˜¯ä¸­æ–‡ï¼Œé‚£ä¹ˆè¿™ä¸ªå‘é‡å¯èƒ½å°±éœ€è¦åŒ…å«æ‰€æœ‰çš„ä¸­æ–‡æ±‰å­—æˆ–å¸¸è§å­—ã€‚åŒæ—¶ä¸ºäº†è®©æ¨¡å‹è‡ªå·±å†³å®šéœ€è¦è¾“å‡ºå¤šé•¿çš„åºåˆ—ï¼Œå‘é‡ä¸­è¿˜åŒ…å«äº†ä¸€ä¸ª<strong>END</strong>ä¿¡å·ã€‚å‘é‡ä¸­çš„æ¯ä¸ªå•è¯æˆ–çŸ­è¯­éƒ½å¸¦æœ‰å¯¹åº”çš„æ¨¡å‹é¢„æµ‹æ¦‚ç‡ï¼Œæ¦‚ç‡æœ€é«˜çš„é‚£ä¸€é¡¹æ‰æ˜¯æœ€ç»ˆçš„è¾“å‡º</p>
<p><img src="https://pbs.twimg.com/media/F9g6FILXUAAN6yt?format=png&amp;name=900x900" alt="" /></p>
<BR>
<p>æ¥ä¸‹æ¥å†å°†ç¬¬ä¸€ä¸ªè¾“å‡ºç»™åˆ°<strong>Decoder</strong>ï¼Œä½œä¸ºæ–°çš„è¾“å…¥ï¼Œä»è€Œå¾—åˆ°ç¬¬äºŒä¸ªè¾“å‡ºã€‚ä»¥æ­¤ä¸ºä¾‹ï¼Œæ–°çš„è¾“å‡ºå†æ¬¡ç»™åˆ°<strong>Decoder</strong>ä¸­ï¼Œç›´åˆ°è¾“å‡ºENDä¿¡å·è¡¨ç¤ºå‘é‡è¾“å‡ºçš„ç»“æŸã€‚</p>
<p>æ­£æ˜¯å› ä¸ºæ–°çš„è¾“å…¥æ˜¯ç”±ä¹‹å‰çš„è¾“å‡ºæ‰€å¾—åˆ°çš„ï¼Œå› æ­¤åœ¨<strong>Decoder</strong>ä¸­ä½¿ç”¨äº†<strong>Masked Multi-Head Attention</strong>ï¼Œä¸<strong>Encoder</strong>ä¸­çš„<strong>Multi-Head Attention</strong>æ‰€ä¸åŒçš„æ˜¯ï¼Œåœ¨è®¡ç®—è¾“å‡ºçš„æ—¶å€™åªè€ƒè™‘è‡ªèº«åŠå…¶å·¦è¾¹çš„è¾“å…¥å‘é‡ï¼Œè€Œä¸éœ€è¦è€ƒè™‘å³è¾¹é‚£äº›è¿˜æ²¡å¾—åˆ°çš„è¾“å…¥å‘é‡ï¼Œå¦‚ä¸‹å›¾ï¼š</p>
<p><img src="https://pbs.twimg.com/media/F9hpOvaXQAAfmmT?format=png&amp;name=900x900" alt="" /></p>
<BR>
<h2 id="53-cross-attention"><a class="markdownIt-Anchor" href="#53-cross-attention"></a> 5.3 Cross Attention</h2>
<p><strong>Decoder</strong>éƒ¨åˆ†ä¸ä»…æœ‰è‡ªèº«çš„è¾“å…¥å‘é‡ï¼Œè¿˜æœ‰<strong>Encoder</strong>éƒ¨åˆ†çš„è¾“å‡ºä½œä¸ºè¾“å…¥å‘é‡ã€‚è€Œ<strong>Encoder</strong>éƒ¨åˆ†çš„è¾“å‡ºä¸<strong>Decoder</strong>ä¸­<strong>Masked Multi-Head Attention</strong>çš„è¾“å‡ºä¸€èµ·è¢«é€åˆ°<strong>Multi-Head Attetion</strong>è¿›è¡Œå¤„ç†ï¼Œè¿™éƒ¨åˆ†å°±å«<strong>Cross Attention</strong>ï¼Œå¦‚ä¸Šå›¾:</p>
<p><img src="https://pbs.twimg.com/media/F9hpoAjW4AA8YiK?format=png&amp;name=small" alt="" /></p>
<br>
<p><strong>Cross Attention</strong>çš„å…·ä½“å®ç°æµç¨‹å¦‚ä¸‹ï¼š</p>
<p>---------- <strong>Cross Attentionæµç¨‹Â·BEGIN</strong> ----------</p>
<p>1.<strong>Encoder</strong>çš„è¾“å‡ºåˆ†åˆ«ä¸å„è‡ªå¯¹åº”çš„çŸ©é˜µ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>W</mi><mi>k</mi></msup></mrow><annotation encoding="application/x-tex">W^k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.849108em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.849108em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span></span></span></span></span></span></span>ç›¸ä¹˜å¾—åˆ°<strong>key</strong>å€¼ï¼Œ<strong>Decoder</strong>ä¸­<strong>Masked Multi-Head Attention</strong>çš„è¾“å‡ºä¸çŸ©é˜µ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>W</mi><mi>q</mi></msup></mrow><annotation encoding="application/x-tex">W^q</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">q</span></span></span></span></span></span></span></span></span></span></span>ç›¸ä¹˜å¾—åˆ°<strong>query</strong>å€¼ï¼Œç„¶åä¸¤è€…åšç‚¹ä¹˜å¾—åˆ°å…³è”æ€§åˆ†æ•°<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Î±</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span></span></span></span>:</p>
<p><img src="https://pbs.twimg.com/media/F9hq6iJW0AEc9kT?format=png&amp;name=900x900" alt="" /></p>
<br>
<p>2.<strong>Encoder</strong>çš„è¾“å‡ºåˆ†åˆ«ä¸å„è‡ªå¯¹åº”çš„çŸ©é˜µ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>W</mi><mi>v</mi></msup></mrow><annotation encoding="application/x-tex">W^v</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span></span></span></span></span></span></span></span></span></span></span>ç›¸ä¹˜å¾—åˆ°<strong>value</strong>å€¼ï¼Œç„¶åä¸å…³è”æ€§åˆ†æ•°<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Î±</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span></span></span></span>ç›¸ä¹˜ï¼Œå¹¶å°†æ‰€æœ‰çš„ç»“æœç´¯åŠ èµ·æ¥ã€‚ç´¯åŠ åçš„ç»“æœå†ç»™åˆ°å…¨è¿æ¥å±‚ï¼Œå¾—åˆ°æœ€ç»ˆçš„è¾“å‡º:</p>
<p><img src="https://pbs.twimg.com/media/F9hrsI_W0AAMfIx?format=png&amp;name=900x900" alt="" /></p>
<Br>
<p>---------- <strong>Cross Attentionæµç¨‹Â·END</strong> ----------</p>

                    </article>
                    


    <blockquote id="date-expire-notification" class="post-expired-notify">æœ¬æ–‡æœ€åæ›´æ–°äº <span id="date-expire-num"></span> å¤©å‰ï¼Œæ–‡ä¸­æ‰€æè¿°çš„ä¿¡æ¯å¯èƒ½å·²å‘ç”Ÿæ”¹å˜</blockquote>
    <script>
    (function() {
        var dateUpdate = Date.parse("2023-11-23");
        var nowDate = new Date();
        var a = nowDate.getTime();
        var b = a - dateUpdate;
        var daysUpdateExpire = Math.floor(b/(24*3600*1000));
        if (daysUpdateExpire >= 120) {
            document.getElementById('date-expire-num').innerHTML = daysUpdateExpire;
        } else {
            document.getElementById('date-expire-notification').style.display = 'none';
        }
    })();
    </script>


<p class="post-footer-info mb-0 pt-0">æœ¬æ–‡å‘è¡¨äº&nbsp;<time datetime="2023-10-28T06:22:33.000Z" itemprop="datePublished">2023-10-28</time>

    , æœ€åä¿®æ”¹äº&nbsp;<time datetime="2023-11-23T14:43:09.828Z" itemprop="dateModified">2023-11-23</time>

</p>
<p class="post-footer-info mb-0 pt-2">

<span class="post-categories-list mt-2">

<a class="post-categories-list-item" href='/categories/%E4%B8%93%E4%B8%9A%E7%9F%A5%E8%AF%86/'>ä¸“ä¸šçŸ¥è¯†</a>

<a class="post-categories-list-item" href='/categories/%E4%B8%93%E4%B8%9A%E7%9F%A5%E8%AF%86/ML/'>ML</a>

</span>



<span class="post-tags-list mt-2">

<a class="post-tags-list-item" href="/tags/%E4%B8%93%E4%B8%9A%E7%9F%A5%E8%AF%86/" rel="tag">#&nbsp;ä¸“ä¸šçŸ¥è¯†</a>

<a class="post-tags-list-item" href="/tags/ML/" rel="tag">#&nbsp;ML</a>

<a class="post-tags-list-item" href="/tags/transformer/" rel="tag">#&nbsp;transformer</a>

<a class="post-tags-list-item" href="/tags/self-attention/" rel="tag">#&nbsp;self-attention</a>

</span>


</p>

                </div>
                <div class="post-nav px-2 bg-gray">
<ul class="pagination">
    <!-- Prev Nav -->
    
        <li class="page-item page-prev">
            <a href="/2023/11/04/intern-02/" rel="prev">
                <div class="page-item-title"><i class="icon icon-back" aria-hidden="true"></i></div>
                <div class="page-item-subtitle">intern-02</div>
            </a>
        </li>
    

    <!-- Next Nav -->
    
        <li class="page-item page-next">
            <a href="/2023/10/27/github%E5%B0%8F%E6%8A%80%E5%B7%A7/" rel="next">
                <div class="page-item-title"><i class="icon icon-forward" aria-hidden="true"></i></div>
                <div class="page-item-subtitle">githubå°æŠ€å·§</div>
            </a>
        </li>
    
</ul>
</div>

                
                    <!-- # Comment # -->
                    
                
            </div>
        </div>
    </div>
</div>

            <!-- ### Footer ### -->
            <footer class="text-center">
    <!-- footer copyright -->
    
        <p class="footer-copyright mb-0">Copyright&nbsp;Â©&nbsp;<span id="copyright-year"></span>
            <a class="footer-copyright-a" href="https://abinzzz.github.io">blog</a>
        </p>

    <!-- footer custom text -->
    <p class="footer-text mb-0">
    
    </p>
    <!-- footer develop info -->
    <p class="footer-develop mb-0">
        
    <!-- Busuanzi User Views -->
    <span id="busuanzi_container_site_uv" hidden>
        <span></span>
        <span id="busuanzi_value_site_uv"></span>
        <span>Viewers</span>
        
            <span>|</span>
        
    </span>




        
        Powered by&nbsp;<!--
         --><a href="https://hexo.io" target="_blank" class="footer-develop-a" rel="external nofollow noopener noreferrer">Hexo</a><span class="footer-develop-divider"></span>Theme&nbsp;-&nbsp;<!--
         --><a href="https://github.com/SukkaW/hexo-theme-suka" target="_blank" class="footer-develop-a" rel="external noopener">Suka</a>
    </p>
</footer>


        <!-- ### Import File ### -->
        <!-- ### Footer JS Import ### -->

<script>

    
window.lazyLoadOptions = {
    elements_selector: ".lazyload",
    threshold: 50
};
document.getElementById('copyright-year').textContent = new Date().getFullYear();
console.log('\n %c Suka Theme (hexo-theme-suka) | Â© SukkaW | Verision 1.3.3 %c https://github.com/SukkaW/hexo-theme-suka \n', 'color: #fff; background: #444; padding:5px 0;', 'background: #bbb; padding:5px 0;');

</script>

<script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@8.9.0" async></script>
    <script src="https://cdn.jsdelivr.net/gh/sukkaw/busuanzi@2.3/bsz.pure.mini.js" async></script>


<!-- Offset -->




<!-- Comment -->


<!-- ### Custom Footer ### -->

    </body>

</html>